[mysqld]
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
init_connect='SET NAMES utf8mb4'
skip-character-set-client-handshake=true

# 连接和线程
max_connections=1000
max_connect_errors=1000
thread_cache_size=128

# 内存和缓冲区
innodb_buffer_pool_size=1G
innodb_buffer_pool_instances=4
innodb_log_buffer_size=16M

# 日志设置
slow_query_log=1
slow_query_log_file=/usr/server/mysql/logs/slow.log
long_query_time=2
log_queries_not_using_indexes=1

# InnoDB 设置
innodb_file_per_table=1
innodb_flush_log_at_trx_commit=1
innodb_flush_method=O_DIRECT

# 远程连接设置
bind-address = 0.0.0.0
skip-networking = 0

# 其他优化
default-storage-engine=INNODB
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION

[client]
default-character-set=utf8mb4

[mysql]
default-character-set=utf8mb4 