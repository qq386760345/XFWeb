# 语音转写模块

## 功能概述
语音转写模块是应用的核心功能，负责实时语音识别和音频处理。

## 核心文件
- `src/components/editor/speech-transcriber.js`：语音转写核心逻辑
- `src/speech-to-text.js`：语音转写测试脚本
- `src/speech-to-text.html`：语音转写测试页面

## 主要功能
1. **实时语音识别**
   - 支持多种音频格式
   - 实时转写显示
   - 自动保存录音文件

2. **音频处理**
   - 音频格式转换
   - 采样率设置（16000Hz）
   - 音量控制
   - 噪声抑制

3. **API 集成**
   - 讯飞语音识别 API 集成
   - 实时数据传输
   - 错误处理机制

## 技术实现
1. **音频采集**
   ```javascript
   {
     channelCount: 1,
     sampleRate: 16000,
     sampleSize: 16,
     echoCancellation: true,
     noiseSuppression: true
   }
   ```

2. **音频格式转换**
   - 支持 WAV 格式
   - 多声道转单声道
   - 标准 WAV 文件头生成

3. **错误处理**
   - 浏览器兼容性检查
   - 麦克风访问权限
   - 音频转换异常处理

## 使用说明
1. 确保浏览器支持 Web Audio API
2. 授予麦克风访问权限
3. 点击录音按钮开始录音
4. 实时查看转写结果
5. 保存或导出录音文件 